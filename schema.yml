openapi: 3.1.0
info:
  title: Sohosai Online System
  version: "1.0"
servers:
  - url: http://localhost:3000
security:
  - Bearer: []
tags:
  - name: projects
    description: 企画関連の操作
  - name: users
    description: ユーザー関連の操作
  - name: news
    description: ニュース関連の操作
  - name: files
    description: ファイル関連の操作
  - name: forms
    description: 申請関連の操作
  - name: form-answers
    description: 申請結果関連の操作
  - name: invitations
    description: 招待関連の操作
  - name: committee
    description: 実委人のみが利用可能
paths:
  /projects:
    get:
      summary: 企画一覧の取得
      tags:
        - projects
        - committee
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProjectSummary"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      summary: 企画の作成
      tags:
        - projects
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateProject"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatedProject"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /projects/export:
    get:
      summary: 企画一覧のエクスポート
      tags:
        - committee
      responses:
        "200":
          description: OK
          content:
            text/csv:
              schema:
                type: string
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /projects/me:
    get:
      summary: 自分が企画責任者・副企画責任者になっている企画の取得
      tags:
        - projects
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Project"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /projects/{project_id}:
    get:
      summary: 特定のIDの企画の取得
      tags:
        - projects
        - committee
      parameters:
        - name: project_id
          in: path
          schema:
            type: string
          required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Project"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      summary: 特定のIDの企画の更新
      tags:
        - projects
        - committee
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateProject"
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      summary: 特定のIDの企画の削除
      tags:
        - projects
        - committee
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /users:
    get:
      summary: ユーザー一覧の取得
      tags:
        - users
        - committee
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UserSummary"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      summary: ユーザーの作成
      tags:
        - users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateUser"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatedUser"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /users/export:
    get:
      summary: ユーザー一覧のエクスポート
      tags:
        - committee
      responses:
        "200":
          description: OK
          content:
            text/csv:
              schema:
                type: string
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /users/me:
    get:
      summary: 自分のユーザーの取得
      tags:
        - users
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /users/{user_id}:
    get:
      summary: 特定のIDのユーザーの取得
      tags:
        - users
        - committee
      parameters:
        - name: user_id
          in: path
          schema:
            type: string
          required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      summary: 特定のIDのユーザーの更新
      tags:
        - users
        - committee
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateUser"
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      summary: 特定のIDのユーザーの削除
      tags:
        - users
        - committee
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /news:
    get:
      summary: ニュース一覧の取得
      tags:
        - news
        - committee
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NewsSummary"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      summary: ニュースの作成
      tags:
        - news
        - committee
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateNews"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatedNews"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /news/{news_id}:
    get:
      summary: 特定のIDのニュースの取得
      tags:
        - news
      parameters:
        - name: news_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/News"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      summary: 特定のIDのニュースの更新
      tags:
        - news
        - committee
      parameters:
        - name: news_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateNews"
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      summary: 特定のIDのニュースの削除
      tags:
        - news
        - committee
      parameters:
        - name: news_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /files:
    get:
      summary: ニュースの添付ファイル一覧の取得
      tags:
        - files
        - committee
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/FileInfo"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      summary: ファイルの作成
      tags:
        - files
        - committee
      parameters:
        - in: query
          name: visibility
          schema:
            type: string
            enum:
              - private
              - public
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/CreateFile"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatedFile"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /files/{file_id}:
    get:
      summary: 特定のIDのファイルの取得
      tags:
        - files
      parameters:
        - name: file_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/File"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      summary: 特定のIDのファイルの削除
      tags:
        - files
        - committee
      parameters:
        - name: file_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /invitations:
    get:
      summary: 招待一覧の取得
      tags:
        - invitations
        - committee
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Invitation"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      summary: 招待の作成
      tags:
        - invitations
        - committee
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateInvitation"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatedInvitation"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /invitations/{invitation_id}:
    get:
      summary: 特定のIDの招待の取得
      tags:
        - invitations
        - committee
      parameters:
        - name: invitation_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Invitation"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      summary: 特定のIDの招待の受諾
      tags:
        - invitations
      parameters:
        - name: invitation_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      summary: 招待の削除
      tags:
        - invitations
        - committee
      parameters:
        - name: invitation_id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /forms:
    get:
      summary: 申請一覧の取得
      tags:
        - forms
      parameters:
        - name: project_id
          in: query
          schema:
            type: string
          required: false
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/FormSummary"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      summary: 申請の作成
      tags:
        - forms
        - committee
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateForm"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatedForm"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /forms/{form_id}:
    get:
      summary: 特定のIDの申請を取得
      tags:
        - forms
      parameters:
        - name: form_id
          in: path
          schema:
            type: string
          required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Form"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      summary: 特定のIDの申請を更新
      tags:
        - forms
        - committee
      parameters:
        - name: form_id
          in: path
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateForm"
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      summary: 特定のIDの申請を削除
      tags:
        - forms
        - committee
      parameters:
        - name: form_id
          in: path
          schema:
            type: string
          required: true
      responses:
        "200":
          description: OK
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /form-answers:
    get:
      summary: 申請の回答一覧を取得
      tags:
        - form-answers
      parameters:
        - name: project_id
          in: query
          schema:
            type: string
          required: false
        - name: form_id
          in: query
          schema:
            type: string
          required: false
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/FormAnswerSummary"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    post:
      summary: 申請の回答を作成
      tags:
        - form-answers
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateFormAnswer"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreatedFormAnswer"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
  /form-answers/{form_answer_id}:
    get:
      summary: 申請の回答を取得
      tags:
        - form-answers
      parameters:
        - name: form_answer_id
          in: path
          schema:
            type: string
          required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/FormAnswer"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    put:
      summary: 申請の回答を更新
      tags:
        - form-answers
      parameters:
        - name: form_answer_id
          in: path
          schema:
            type: string
          required: true
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateFormAnswer"
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "422":
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
components:
  securitySchemes:
    Bearer:
      type: apiKey
      name: Firebase Token
      in: header
      description: Firebaseのトークン
  schemas:
    ProjectCategory:
      type: string
      enum:
        - general
        - foods_with_kitchen
        - foods_without_kitchen
        - foods_without_cooking
        - stage_1a
        - stage_university_hall
        - stage_united
    ProjectAttribute:
      type: string
      enum:
        - academic
        - art
        - official
        - inside
        - outside
    ProjectSummary:
      type: object
      properties:
        id:
          type: string
          format: uuid
        index:
          type: integer
          example: 0
        title:
          type: string
          example: そぽたん焼き
        category:
          $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
      required:
        - id
        - index
        - title
        - category
        - attribute
    Error:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
    CreateProject:
      type: object
      properties:
        title:
          type: string
          example: そぽたん焼き
        kana_title:
          type: string
          example: そぽたんやき
        group_name:
          type: string
          example: そぽたん愛好会
        kana_group_name:
          type: string
          example: そぽたんあいこうかい
        category:
          $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
      required:
        - title
        - kana_title
        - group_name
        - kana_group_name
        - category
        - attributes
    CreatedProject:
      type: object
      properties:
        id:
          type: string
          format: uuid
      required:
        - id
    Project:
      type: object
      properties:
        id:
          type: string
          format: uuid
        index:
          type: integer
          example: 0
        title:
          type: string
          example: そぽたん焼き
        kana_title:
          type: string
          example: そぽたんやき
        group_name:
          type: string
          example: そぽたん愛好会
        kana_group_name:
          type: string
          example: そぽたんあいこうかい
        category:
          $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
        owner_id:
          type: string
          format: uuid
        owner_name:
          type: string
        owner_email:
          type: string
        sub_owner_id:
          type: string
          format: uuid
          nullable: true
        sub_owner_name:
          type: string
          nullable: true
        sub_owner_email:
          type: string
          nullable: true
        remarks:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        deleted_at:
          type: string
          format: date-time
          nullable: true
      required:
        - id
        - index
        - title
        - kana_title
        - group_name
        - kana_group_name
        - category
        - attributes
        - owner_id
        - owner_name
        - owner_email
        - created_at
        - updated_at
    UpdateProject:
      type: object
      properties:
        title:
          type: string
          example: そぽたん焼き
        kana_title:
          type: string
          example: そぽたんやき
        group_name:
          type: string
          example: そぽたん愛好会
        kana_group_name:
          type: string
          example: そぽたんあいこうかい
        category:
          $ref: "#/components/schemas/ProjectCategory"
          example: foods_with_kitchen
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
        remarks:
          type: string
          nullable: true
      required:
        - title
        - kana_title
        - group_name
        - kana_group_name
        - category
        - attributes
    UserRole:
      type: string
      enum:
        - administrator
        - committee_operator
        - committee
        - general
    UserSummary:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string
          format: email
        role:
          $ref: "#/components/schemas/UserRole"
      required:
        - id
        - name
        - email
        - role
    CreateUser:
      type: object
      properties:
        name:
          type: string
        kana_name:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          format: password
        phone_number:
          type: string
      required:
        - name
        - kana_name
        - email
        - password
        - phone_number
    CreatedUser:
      type: object
      properties:
        id:
          type: string
      required:
        - id
    User:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        kana_name:
          type: string
        email:
          type: string
          format: email
        phone_number:
          type: string
        role:
          $ref: "#/components/schemas/UserRole"
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        deleted_at:
          type: string
          format: date-time
          nullable: true
      required:
        - id
        - name
        - kana_name
        - email
        - phone_number
        - role
        - created_at
        - updated_at
    UpdateUser:
      type: object
      properties:
        name:
          type: string
        kana_name:
          type: string
        email:
          type: string
          format: email
        phone_number:
          type: string
        role:
          $ref: "#/components/schemas/UserRole"
      required:
        - name
        - kana_name
        - email
        - phone_number
        - role
    NewsSummary:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        categories:
          type: array
          items:
            $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
        updated_at:
          type: string
          format: date-time
      required:
        - id
        - title
        - categories
        - attributes
        - updated_at
    CreateNews:
      type: object
      properties:
        title:
          type: string
        body:
          type: string
        attachments:
          type: array
          items:
            type: string
            format: uuid
        categories:
          type: array
          items:
            $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
      required:
        - title
        - body
        - attachments
        - categories
        - attributes
    CreatedNews:
      type: object
      properties:
        id:
          type: string
          format: uuid
      required:
        - id
    News:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        body:
          type: string
        attachments:
          type: array
          items:
            type: string
            format: uuid
        categories:
          type: array
          items:
            $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        deleted_at:
          type: string
          format: date-time
          nullable: true
      required:
        - id
        - title
        - body
        - attachments
        - categories
        - attributes
        - created_at
        - updated_at
    UpdateNews:
      type: object
      properties:
        title:
          type: string
        body:
          type: string
        attachments:
          type: array
          items:
            type: string
            format: uuid
        categories:
          type: array
          items:
            $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
      required:
        - title
        - body
        - attachments
        - categories
        - attributes
    FileInfo:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        deleted_at:
          type: string
          format: date-time
          nullable: true
      required:
        - id
        - name
        - created_at
        - updated_at
    CreateFile:
      type: object
      properties:
        file:
          type: string
          format: binary
      required:
        - file
    CreatedFile:
      type: object
      properties:
        ids:
          type: array
          items:
            type: string
            format: uuid
        required:
          - ids
    File:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        url:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        deleted_at:
          type: string
          format: date-time
          nullable: true
      required:
        - id
        - name
        - url
        - created_at
        - updated_at
    Invitation:
      type: object
      properties:
        id:
          type: string
          format: uuid
        inviter:
          type: string
        inviter_name:
          type: string
        project_id:
          type: string
          format: uuid
        project_title:
          type: string
        position:
          type: string
          enum:
            - owner
            - sub_owner
        used_by:
          type: string
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        deleted_at:
          type: string
          format: date-time
          nullable: true
      required:
        - id
        - inviter
        - inviter_name
        - project_id
        - project_title
        - position
        - created_at
        - updated_at
    CreateInvitation:
      type: object
      properties:
        project_id:
          type: string
          format: uuid
        position:
          type: string
          enum:
            - owner
            - sub_owner
      required:
        - project_id
        - position
    CreatedInvitation:
      type: object
      properties:
        id:
          type: string
          format: uuid
      required:
        - id
    FormSummary:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 123e4567-e89b-12d3-a456-426614174000
        title:
          type: string
          example: マイフォーム
        description:
          type: string
          example: これはフォームです
        starts_at:
          type: string
          format: date-time
          example: "2024-03-16T09:00:00Z"
        ends_at:
          type: string
          format: date-time
          example: "2024-03-20T18:00:00Z"
        categories:
          type: array
          description: 対象となる企画区分
          items:
            $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          description: 対象となる企画属性
          items:
            $ref: "#/components/schemas/ProjectAttribute"
        answer_id:
          type: string
          format: uuid
          nullable: true
        answered_at:
          type: string
          format: date-time
          nullable: true
        updated_at:
          type: string
          format: date-time
          example: "2024-03-15T14:45:00Z"
      required:
        - id
        - title
        - description
        - starts_at
        - ends_at
        - categories
        - attributes
        - updated_at
    FormItemType:
      type: string
      enum:
        - string
        - int
        - choose_one
        - choose_many
        - file
    NewFormItem:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        required:
          type: boolean
        type:
          $ref: "#/components/schemas/FormItemType"
        min:
          type: integer
          nullable: true
        max:
          type: integer
          nullable: true
        min_length:
          type: integer
          nullable: true
        max_length:
          type: integer
          nullable: true
        min_selection:
          type: integer
          nullable: true
        max_selection:
          type: integer
          nullable: true
        allow_newline:
          type: boolean
          example: false
          nullable: true
        options:
          type: array
          items:
            type: string
          nullable: true
        extensions:
          type: array
          items:
            type: string
          nullable: true
        limit:
          type: integer
          example: 100
          nullable: true
      required:
        - name
        - description
        - required
        - type
    CreateForm:
      type: object
      properties:
        title:
          type: string
          example: 新しいフォーム
        description:
          type: string
          example: これは新しいフォームです
        starts_at:
          type: string
          format: date-time
          example: "2024-03-16T09:00:00Z"
        ends_at:
          type: string
          format: date-time
          example: "2024-03-20T18:00:00Z"
        categories:
          type: array
          items:
            $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
        items:
          type: array
          items:
            $ref: "#/components/schemas/NewFormItem"
        attachments:
          type: array
          items:
            type: string
            format: uuid
      required:
        - title
        - description
        - starts_at
        - ends_at
        - categories
        - attributes
        - items
        - attachments
    CreatedForm:
      type: object
      properties:
        id:
          type: string
          format: uuid
      required:
        - id
    FormItem:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        required:
          type: boolean
        type:
          $ref: "#/components/schemas/FormItemType"
        min:
          type: integer
          nullable: true
        max:
          type: integer
          nullable: true
        min_length:
          type: integer
          nullable: true
        max_length:
          type: integer
          nullable: true
        min_selection:
          type: integer
          nullable: true
        max_selection:
          type: integer
          nullable: true
        allow_newline:
          type: boolean
          example: false
          nullable: true
        options:
          type: array
          items:
            type: string
          nullable: true
        extensions:
          type: array
          items:
            type: string
          nullable: true
        limit:
          type: integer
          example: 100
          nullable: true
      required:
        - id
        - name
        - description
        - required
        - type
      example:
        string:
          name: 項目1
          description: これは項目1です
          required: true
          type: string
          min_length: 5
          max_length: 20
          allow_newline: false
        int:
          name: 項目2
          description: これは項目2です
          required: true
          type: int
          min: 0
          max: 10
        choose_one:
          name: 項目3
          description: これは項目3です
          required: true
          type: choose_one
          options:
            - オプション1
            - オプション2
            - オプション3
        choose_many:
          name: 項目4
          description: これは項目4です
          required: true
          type: choose_many
          min_selection: 1
          max_selection: 3
          options:
            - オプション1
            - オプション2
            - オプション3
        file:
          name: 項目5
          description: これは項目5です
          required: true
          type: file
          extensions:
            - .jpg
            - .png
          limit: 2
    Form:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: 123e4567-e89b-12d3-a456-426614174000
        title:
          type: string
          example: マイフォーム
        description:
          type: string
          example: これはフォームです
        starts_at:
          type: string
          format: date-time
          example: "2024-03-16T09:00:00Z"
        ends_at:
          type: string
          format: date-time
          example: "2024-03-20T18:00:00Z"
        categories:
          type: array
          items:
            $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
        items:
          type: array
          items:
            $ref: "#/components/schemas/FormItem"
        attachments:
          type: array
          items:
            type: string
            format: uuid
        answer_id:
          type: string
          format: uuid
          nullable: true
        answered_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          example: "2024-03-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2024-03-15T14:45:00Z"
        deleted_at:
          type: string
          format: date-time
          nullable: true
          example: null
      required:
        - id
        - title
        - description
        - starts_at
        - ends_at
        - categories
        - attributes
        - items
        - attachments
        - created_at
        - updated_at
    UpdateForm:
      type: object
      properties:
        title:
          type: string
          example: 更新されたフォーム
        description:
          type: string
          example: これは更新されたフォームです
        starts_at:
          type: string
          format: date-time
          example: "2024-03-16T09:00:00Z"
        ends_at:
          type: string
          format: date-time
          example: "2024-03-20T18:00:00Z"
        categories:
          type: array
          items:
            $ref: "#/components/schemas/ProjectCategory"
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/ProjectAttribute"
        items:
          type: array
          items:
            $ref: "#/components/schemas/NewFormItem"
        attachments:
          type: array
          items:
            type: string
            format: uuid
      required:
        - title
        - description
        - starts_at
        - ends_at
        - categories
        - attributes
        - items
        - attachments
    FormAnswerSummary:
      type: object
      properties:
        id:
          type: string
          format: uuid
        form_id:
          type: string
          format: uuid
        form_title:
          type: string
        project_id:
          type: string
          format: uuid
        project_title:
          type: string
        updated_at:
          type: string
          format: date-time
      required:
        - id
        - form_id
        - form_title
        - project_id
        - project_title
        - updated_at
    FormAnswerItem:
      type: object
      properties:
        item_id:
          type: string
          format: uuid
        type:
          $ref: "#/components/schemas/FormItemType"
        value: {}
      required:
        - item_id
        - type
        - value
    CreateFormAnswer:
      type: object
      properties:
        form_id:
          type: string
          format: uuid
        items:
          $ref: "#/components/schemas/FormAnswerItem"
      required:
        - form_id
        - items
    CreatedFormAnswer:
      type: object
      properties:
        id:
          type: string
          format: uuid
      required:
        - id
    FormAnswer:
      type: object
      properties:
        id:
          type: string
          format: uuid
        project_id:
          type: string
          format: uuid
        project_title:
          type: string
        form_id:
          type: string
          format: uuid
        form_title:
          type: string
        items:
          $ref: "#/components/schemas/FormAnswerItem"
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        deleted_at:
          type: string
          format: date-time
          nullable: true
      required:
        - id
        - project_id
        - project_title
        - form_id
        - form_title
        - items
        - created_at
        - updated_at
    UpdateFormAnswer:
      type: object
      properties:
        items:
          $ref: "#/components/schemas/FormAnswerItem"
      required:
        - items
